{"ast":null,"code":"var _jsxFileName = \"/var/www/html/tweet/tweet-react/src/register.jsx\";\nimport React from \"react\";\nimport { Login } from \"./login\";\nexport class Register extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      user: \"\",\n      pass: \"\",\n      passConf: \"\",\n      mail: \"\",\n      phone: \"\",\n      date: \"\"\n    };\n\n    this.login = e => {\n      this.setState({\n        show: false\n      });\n    };\n\n    this.inputChange = e => {\n      this.setState({\n        [e.target.id]: e.target.value\n      });\n      console.log(this.state);\n    };\n\n    this.verifForm = e => {\n      e.preventDefault();\n      const doc = document;\n      const regMail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n      const regPhone = /^[0-9]{8,}$/;\n      this.state.user.length < 6 ? doc.getElementById(\"user\").style.color = \"red\" : doc.getElementById(\"user\").style.color = \"green\";\n      this.state.pass.length < 8 ? doc.getElementById(\"pass\").style.color = \"red\" : doc.getElementById(\"pass\").style.color = \"green\";\n      this.state.passConf.length < 8 ? doc.getElementById(\"passConf\").style.color = \"red\" : doc.getElementById(\"passConf\").style.color = \"green\";\n      this.state.pass !== this.state.passConf ? doc.getElementById(\"pass\").style.color = \"red\" : doc.getElementById(\"pass\").style.color = \"green\";\n      this.state.passConf !== this.state.pass ? doc.getElementById(\"passConf\").style.color = \"red\" : doc.getElementById(\"passConf\").style.color = \"green\";\n      Date.now() - Date.parse(this.state.date) < 60 * 60 * 24 * 365.25 * 18 * 1000 ? doc.getElementById(\"date\").style.color = \"red\" : doc.getElementById(\"date\").style.color = \"green\";\n      !this.state.mail.match(regMail) ? doc.getElementById(\"mail\").style.color = \"red\" : doc.getElementById(\"mail\").style.color = \"green\";\n      !this.state.phone.match(regPhone) ? doc.getElementById(\"phone\").style.color = \"red\" : doc.getElementById(\"phone\").style.color = \"green\";\n\n      if (this.state.user.length < 6 || this.state.pass !== this.state.passConf || Date.now() - Date.parse(this.state.date) < 60 * 60 * 24 * 365.25 * 18 * 1000 || !this.state.mail.match(regMail) || this.state.pass.length < 8 || !this.state.phone.match(regPhone)) {\n        doc.getElementById(\"error\").innerHTML = \"Verify your information\";\n        return false;\n      } else {\n        doc.getElementById(\"error\").innerHTML = \"\";\n        this.sendForm();\n        return true;\n      }\n    };\n\n    this.sendForm = () => {\n      console.log(\"test\");\n      fetch(\"http://localhost:8080/inscription\", {\n        method: \"POST\",\n        body: JSON.stringify(this.state),\n        headers: {\n          \"content-type\": \"application/json\"\n        }\n      }).then(resp => resp.json()).then(val => {\n        console.log(val);\n        if (val === \"success\") this.setState({\n          show: false\n        });\n      });\n    };\n\n    this.state = {\n      show: true\n    };\n  }\n\n  render() {\n    if (this.state.show) {\n      return React.createElement(\"form\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 73\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"container\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 74\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"text-danger text-center\",\n        id: \"error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 75\n        },\n        __self: this\n      }), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 76\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"four columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 77\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 78\n        },\n        __self: this\n      }, \"Username\"), React.createElement(\"input\", {\n        className: \"u-full-width\",\n        type: \"text\",\n        placeholder: \"Username\",\n        id: \"user\",\n        onChange: this.inputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 79\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"four columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83\n        },\n        __self: this\n      }, \"Password\"), React.createElement(\"input\", {\n        className: \"u-full-width\",\n        type: \"password\",\n        placeholder: \"Password\",\n        id: \"pass\",\n        onChange: this.inputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"four columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"passwordConf\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, \"Password Confirm\"), React.createElement(\"input\", {\n        className: \"u-full-width\",\n        type: \"password\",\n        placeholder: \"Password\",\n        id: \"passConf\",\n        onChange: this.inputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"four columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"date\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Birthday\"), React.createElement(\"input\", {\n        className: \"u-full-width\",\n        type: \"date\",\n        id: \"date\",\n        onChange: this.inputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"four columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 98\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"mail\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 99\n        },\n        __self: this\n      }, \"Mail\"), React.createElement(\"input\", {\n        className: \"u-full-width\",\n        type: \"text\",\n        placeholder: \"Mail\",\n        id: \"mail\",\n        onChange: this.inputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 100\n        },\n        __self: this\n      })), React.createElement(\"div\", {\n        className: \"four columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 103\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"phone\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 104\n        },\n        __self: this\n      }, \"Phone\"), React.createElement(\"input\", {\n        className: \"u-full-width\",\n        type: \"tel\",\n        placeholder: \"Phone\",\n        id: \"phone\",\n        onChange: this.inputChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }))), React.createElement(\"div\", {\n        className: \"row\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(\"div\", {\n        className: \"two columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"button-primary\",\n        id: \"submit\",\n        onClick: this.verifForm,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Register\")), React.createElement(\"div\", {\n        className: \"two columns\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 115\n        },\n        __self: this\n      }, React.createElement(\"label\", {\n        htmlFor: \"submit\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116\n        },\n        __self: this\n      }), React.createElement(\"button\", {\n        className: \"button\",\n        id: \"login\",\n        onClick: this.login,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117\n        },\n        __self: this\n      }, \"Login\")))));\n    } else return React.createElement(Login, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125\n      },\n      __self: this\n    });\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/tweet/tweet-react/src/register.jsx"],"names":["React","Login","Register","Component","constructor","props","state","user","pass","passConf","mail","phone","date","login","e","setState","show","inputChange","target","id","value","console","log","verifForm","preventDefault","doc","document","regMail","regPhone","length","getElementById","style","color","Date","now","parse","match","innerHTML","sendForm","fetch","method","body","JSON","stringify","headers","then","resp","json","val","render"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { Login } from \"./login\";\n\nexport class Register extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {show: true};\n    }\n\n    state = {\n        user: \"\",\n        pass: \"\",\n        passConf: \"\",\n        mail: \"\",\n        phone: \"\",\n        date: \"\"\n    };\n\n    login = (e) => {\n        this.setState({ show: false });\n    };\n\n    inputChange = (e) => {\n        this.setState({\n            [e.target.id]: e.target.value\n        });\n        console.log(this.state)\n    };\n\n    verifForm = (e) => {\n        e.preventDefault();\n        const doc = document;\n        const regMail = /^(([^<>()\\[\\]\\\\.,;:\\s@\"]+(\\.[^<>()\\[\\]\\\\.,;:\\s@\"]+)*)|(\".+\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n        const regPhone = /^[0-9]{8,}$/;\n        this.state.user.length < 6 ? doc.getElementById(\"user\").style.color = \"red\" : doc.getElementById(\"user\").style.color = \"green\";\n        this.state.pass.length < 8 ? doc.getElementById(\"pass\").style.color = \"red\" : doc.getElementById(\"pass\").style.color = \"green\";\n        this.state.passConf.length < 8 ? doc.getElementById(\"passConf\").style.color = \"red\" : doc.getElementById(\"passConf\").style.color = \"green\";\n        this.state.pass !== this.state.passConf ? doc.getElementById(\"pass\").style.color = \"red\" : doc.getElementById(\"pass\").style.color = \"green\";\n        this.state.passConf !== this.state.pass ? doc.getElementById(\"passConf\").style.color = \"red\" : doc.getElementById(\"passConf\").style.color = \"green\";\n        Date.now() - Date.parse(this.state.date) < (60 * 60 * 24 * 365.25 * 18 * 1000) ? doc.getElementById(\"date\").style.color = \"red\" : doc.getElementById(\"date\").style.color = \"green\";\n        !this.state.mail.match(regMail) ? doc.getElementById(\"mail\").style.color = \"red\" : doc.getElementById(\"mail\").style.color = \"green\";\n        !this.state.phone.match(regPhone) ? doc.getElementById(\"phone\").style.color = \"red\" : doc.getElementById(\"phone\").style.color = \"green\";\n        if (this.state.user.length < 6 || this.state.pass !== this.state.passConf || Date.now() - Date.parse(this.state.date) < (60 * 60 * 24 * 365.25 * 18 * 1000) ||  !this.state.mail.match(regMail) || this.state.pass.length < 8 || !this.state.phone.match(regPhone)){\n            doc.getElementById(\"error\").innerHTML = \"Verify your information\";\n            return false;\n        }\n        else {\n            doc.getElementById(\"error\").innerHTML = \"\";\n            this.sendForm();\n            return true;\n        }\n    };\n\n    sendForm = () => {\n        console.log(\"test\");\n        fetch(\"http://localhost:8080/inscription\", {\n            method: \"POST\",\n            body: JSON.stringify(this.state),\n            headers: {\n                \"content-type\": \"application/json\"\n            }\n        }).then((resp) => resp.json())\n            .then(val => {\n                console.log(val);\n                if(val === \"success\")\n                    this.setState({ show: false });\n            });\n    };\n\n    render() {\n        if(this.state.show) {\n            return (\n                <form>\n                    <div className=\"container\">\n                        <div className=\"text-danger text-center\" id=\"error\"/>\n                        <div className=\"row\">\n                            <div className=\"four columns\">\n                                <label htmlFor=\"username\">Username</label>\n                                <input className=\"u-full-width\" type=\"text\" placeholder=\"Username\" id=\"user\"\n                                       onChange={this.inputChange}/>\n                            </div>\n                            <div className=\"four columns\">\n                                <label htmlFor=\"password\">Password</label>\n                                <input className=\"u-full-width\" type=\"password\" placeholder=\"Password\" id=\"pass\"\n                                       onChange={this.inputChange}/>\n                            </div>\n                            <div className=\"four columns\">\n                                <label htmlFor=\"passwordConf\">Password Confirm</label>\n                                <input className=\"u-full-width\" type=\"password\" placeholder=\"Password\" id=\"passConf\"\n                                       onChange={this.inputChange}/>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"four columns\">\n                                <label htmlFor=\"date\">Birthday</label>\n                                <input className=\"u-full-width\" type=\"date\" id=\"date\" onChange={this.inputChange}/>\n                            </div>\n                            <div className=\"four columns\">\n                                <label htmlFor=\"mail\">Mail</label>\n                                <input className=\"u-full-width\" type=\"text\" placeholder=\"Mail\" id=\"mail\"\n                                       onChange={this.inputChange}/>\n                            </div>\n                            <div className=\"four columns\">\n                                <label htmlFor=\"phone\">Phone</label>\n                                <input className=\"u-full-width\" type=\"tel\" placeholder=\"Phone\" id=\"phone\"\n                                       onChange={this.inputChange}/>\n                            </div>\n                        </div>\n                        <div className=\"row\">\n                            <div className=\"two columns\">\n                                <label htmlFor=\"submit\"/>\n                                <button className=\"button-primary\" id=\"submit\" onClick={this.verifForm}>Register\n                                </button>\n                            </div>\n                            <div className=\"two columns\">\n                                <label htmlFor=\"submit\"/>\n                                <button className=\"button\" id=\"login\" onClick={this.login}>Login</button>\n                            </div>\n                        </div>\n                    </div>\n                </form>\n            );\n        }\n        else return (\n            <Login />\n        );\n    }\n}"]},"metadata":{},"sourceType":"module"}