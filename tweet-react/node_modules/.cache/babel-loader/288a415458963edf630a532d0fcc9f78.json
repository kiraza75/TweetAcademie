{"ast":null,"code":"var _jsxFileName = \"/var/www/html/tweet_academie/tweet-react/src/account.jsx\";\nimport React from \"react\";\nimport { Wall } from \"./wall\";\nimport { Follower } from \"./follower\";\nimport { Following } from \"./following\";\nimport { Modify } from \"./modify\";\nexport class Account extends React.Component {\n  constructor(props) {\n    super(props);\n    this.bannerImg = {\n      height: \"300px\",\n      objectFit: \"cover\"\n    };\n\n    this.getInput = e => {\n      this.setState({\n        inputTweet: e.target.value\n      });\n    };\n\n    this.tweet = e => {\n      e.preventDefault();\n      let body = {\n        cookie: this.state.cookie,\n        tweet: this.state.inputTweet,\n        type: \"tweet\"\n      };\n      let formData = new FormData();\n      let file = document.getElementById('tweetImg').files[0];\n\n      if (file !== undefined) {\n        if (file.type.indexOf(\"image/\") !== -1) body.type = \"image\";\n        formData.append(\"file\", file);\n      }\n\n      formData.append(\"body\", JSON.stringify(body));\n      const options = {\n        method: \"POST\",\n        body: formData\n      };\n\n      if (this.state.inputTweet !== undefined && this.state.inputTweet.length > 0 && this.state.inputTweet.length < 141) {\n        fetch(\"http://localhost:8080/tweet\", options).then(resp => resp.json()).then(val => {\n          console.table(val);\n          this.setState({\n            refreshWall: true\n          });\n        });\n      }\n    };\n\n    this.showFollow = e => {\n      if (!this.state.showFollower) this.setState({\n        showFollower: true\n      });else this.setState({\n        showFollower: false\n      });\n    };\n\n    this.showFollowing = e => {\n      if (!this.state.showFollowing) this.setState({\n        showFollowing: true\n      });else this.setState({\n        showFollowing: false\n      });\n    };\n\n    this.showModify = e => {\n      if (!this.state.showModify) this.setState({\n        showModify: true,\n        show: false\n      });else this.setState({\n        showModify: false,\n        show: true\n      });\n    };\n\n    this.sleep = async ms => {\n      await new Promise(resolve => setTimeout(resolve, ms));\n      return true;\n    };\n\n    this.callback = async data => {\n      this.setState({\n        refreshWall: false\n      });\n      console.log(data.charAt(0));\n\n      if (data.charAt(0) === \"@\") {\n        this.setState({\n          id: data.substr(1, data.length - 1)\n        });\n        await this.sleep(200);\n        this.componentDidMount();\n      }\n    };\n\n    this.state = {\n      cookie: localStorage.getItem(\"cookie\"),\n      showFollower: false,\n      showFollowing: false,\n      showModify: false,\n      show: this.props.data,\n      id_u: \"\",\n      username: \"\",\n      fullname: \"\",\n      bio: \"\",\n      tel: \"\",\n      birthday: \"\",\n      location: \"\",\n      verified: \"\",\n      banner_img: \"\",\n      profil_img: \"\",\n      nbr_follow: \"\",\n      nbr_abo: \"\"\n    };\n  }\n\n  componentDidMount() {\n    fetch(\"http://localhost:8080/getInfo\", {\n      method: \"POST\",\n      body: JSON.stringify(this.state),\n      headers: {\n        \"content-type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(data => {\n      console.table(data);\n\n      if (data.info !== undefined) {\n        data.info.verified === 1 ? this.setState({\n          username: \"@\" + data.info.username + \"<a style='color: #1e7e34'> ✔</a>️\"\n        }) : this.setState({\n          username: \"@\" + data.info.username\n        });\n        this.setState({\n          id_u: data.info.id\n        });\n        if (data.info.fullname.length > 0) this.setState({\n          fullname: \"(\" + data.info.fullname + \")\"\n        });\n        this.setState({\n          bio: data.info.bio\n        });\n        this.setState({\n          tel: data.info.tel\n        });\n        this.setState({\n          birthday: data.info.birthday\n        });\n        this.setState({\n          registerDate: data.info.registerDate\n        });\n        this.setState({\n          location: data.info.location\n        });\n        this.setState({\n          verified: data.info.verified\n        });\n        this.setState({\n          banner_img: data.info.banner_img\n        });\n        this.setState({\n          profil_img: data.info.profil_img\n        });\n        this.setState({\n          nbr_follow: data.follow.nbr_follow\n        });\n        this.setState({\n          nbr_abo: data.abo.nbr_abo\n        });\n      }\n    });\n  }\n\n  componentWillReceiveProps(props) {\n    console.log(props);\n    this.setState({\n      show: props.data\n    });\n    this.setState({\n      id: null\n    });\n    this.componentDidMount();\n  }\n\n  render() {\n    if (this.state.show) return React.createElement(\"div\", {\n      className: \"container\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card text-center\",\n      id: \"account\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"card-header text-twitter-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 146\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147\n      },\n      __self: this\n    }, \"Your Account\"), React.createElement(\"button\", {\n      className: \"button-primary\",\n      onCLick: this.showModify,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148\n      },\n      __self: this\n    }, \"Modify account\")), React.createElement(\"img\", {\n      src: this.state.banner_img,\n      style: this.bannerImg,\n      className: \"card-img-top\",\n      id: \"bannerImage\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      className: \"card-body\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 152\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      className: \"card-title\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      id: \"username\",\n      className: \"text-muted\",\n      dangerouslySetInnerHTML: {\n        __html: this.state.username\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      id: \"pseudo\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156\n      },\n      __self: this\n    }, this.state.fullname)), React.createElement(\"div\", {\n      className: \"row\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(\"img\", {\n      id: \"profilImage\",\n      style: {\n        borderRadius: \"9999px\"\n      },\n      src: this.state.profil_img,\n      className: \"mx-auto img-fluid d-block\",\n      alt: \"avatar\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 164\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      className: \"text-muted\",\n      id: \"subscribeDate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 165\n      },\n      __self: this\n    }, \"Register since: \" + Date(Date.parse(this.state.registerDate)).substr(0, 15)), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }, \"Bio:\"), React.createElement(\"p\", {\n      id: \"bio\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169\n      },\n      __self: this\n    }, this.state.bio)), React.createElement(\"div\", {\n      className: \"col-md-4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      className: \"text-twitter-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 172\n      },\n      __self: this\n    }, \"Followers:\"), React.createElement(\"h2\", {\n      className: \"text-twitter-4\",\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: this.showFollow,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 173\n      },\n      __self: this\n    }, this.state.nbr_follow), React.createElement(Follower, {\n      data: this.state.showFollower,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }), React.createElement(\"hr\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }), React.createElement(\"h6\", {\n      className: \"text-twitter-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, \"Following:\"), React.createElement(\"h2\", {\n      className: \"text-twitter-4\",\n      style: {\n        cursor: \"pointer\"\n      },\n      onClick: this.showFollowing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, this.state.nbr_abo), React.createElement(Following, {\n      data: this.state.showFollowing,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    })))), React.createElement(\"div\", {\n      className: \"card-footer\",\n      id: \"tweetTweet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"text-twitter-2\",\n      id: \"sizeTweet\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }), React.createElement(\"div\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, React.createElement(\"form\", {\n      className: \"row\",\n      action: \"\",\n      encType: \"multipart/form-data\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 187\n      },\n      __self: this\n    }, React.createElement(\"article\", {\n      className: \"col-md-3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 188\n      },\n      __self: this\n    }), React.createElement(\"textarea\", {\n      id: \"tweet\",\n      placeholder: \"Max length: 140\",\n      className: \"col-lg-5\",\n      onChange: this.getInput,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 189\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"custom-file col-md-1\",\n      htmlFor: \"tweetImg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 191\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"file\",\n      id: \"tweetImg\",\n      className: \"custom-file-input\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 192\n      },\n      __self: this\n    }), React.createElement(\"span\", {\n      className: \"btn btn-twitter-5 custom-file-control\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, \"Img\")), React.createElement(\"a\", {\n      id: \"tweeter\",\n      href: \"#\",\n      className: \"col-md-3 btn btn-twitter-5\",\n      onClick: this.tweet,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, React.createElement(\"h2\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }, \"Tweet\")))))), React.createElement(Wall, {\n      callback: this.callback,\n      data: this.state.refreshWall,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 204\n      },\n      __self: this\n    }), React.createElement(Modify, {\n      data: this.state.showModify,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }));else return null;\n  }\n\n}","map":{"version":3,"sources":["/var/www/html/tweet_academie/tweet-react/src/account.jsx"],"names":["React","Wall","Follower","Following","Modify","Account","Component","constructor","props","bannerImg","height","objectFit","getInput","e","setState","inputTweet","target","value","tweet","preventDefault","body","cookie","state","type","formData","FormData","file","document","getElementById","files","undefined","indexOf","append","JSON","stringify","options","method","length","fetch","then","resp","json","val","console","table","refreshWall","showFollow","showFollower","showFollowing","showModify","show","sleep","ms","Promise","resolve","setTimeout","callback","data","log","charAt","id","substr","componentDidMount","localStorage","getItem","id_u","username","fullname","bio","tel","birthday","location","verified","banner_img","profil_img","nbr_follow","nbr_abo","headers","res","info","registerDate","follow","abo","componentWillReceiveProps","render","__html","borderRadius","Date","parse","cursor"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,IAAR,QAAmB,QAAnB;AACA,SAAQC,QAAR,QAAuB,YAAvB;AACA,SAAQC,SAAR,QAAwB,aAAxB;AACA,SAAQC,MAAR,QAAqB,UAArB;AAEA,OAAO,MAAMC,OAAN,SAAsBL,KAAK,CAACM,SAA5B,CAAsC;AACzCC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AADe,SAuBnBC,SAvBmB,GAuBP;AACRC,MAAAA,MAAM,EAAE,OADA;AAERC,MAAAA,SAAS,EAAE;AAFH,KAvBO;;AAAA,SA8BnBC,QA9BmB,GA8BPC,CAAD,IAAO;AACd,WAAKC,QAAL,CAAc;AAACC,QAAAA,UAAU,EAAEF,CAAC,CAACG,MAAF,CAASC;AAAtB,OAAd;AACH,KAhCkB;;AAAA,SAkCnBC,KAlCmB,GAkCVL,CAAD,IAAO;AACXA,MAAAA,CAAC,CAACM,cAAF;AACA,UAAIC,IAAI,GAAG;AACPC,QAAAA,MAAM,EAAE,KAAKC,KAAL,CAAWD,MADZ;AAEPH,QAAAA,KAAK,EAAE,KAAKI,KAAL,CAAWP,UAFX;AAGPQ,QAAAA,IAAI,EAAE;AAHC,OAAX;AAKA,UAAIC,QAAQ,GAAG,IAAIC,QAAJ,EAAf;AACA,UAAIC,IAAI,GAAGC,QAAQ,CAACC,cAAT,CAAwB,UAAxB,EAAoCC,KAApC,CAA0C,CAA1C,CAAX;;AACA,UAAIH,IAAI,KAAKI,SAAb,EAAwB;AACpB,YAAIJ,IAAI,CAACH,IAAL,CAAUQ,OAAV,CAAkB,QAAlB,MAAgC,CAAC,CAArC,EACIX,IAAI,CAACG,IAAL,GAAY,OAAZ;AACJC,QAAAA,QAAQ,CAACQ,MAAT,CAAgB,MAAhB,EAAwBN,IAAxB;AACH;;AACDF,MAAAA,QAAQ,CAACQ,MAAT,CAAgB,MAAhB,EAAwBC,IAAI,CAACC,SAAL,CAAed,IAAf,CAAxB;AACA,YAAMe,OAAO,GAAG;AACZC,QAAAA,MAAM,EAAE,MADI;AAEZhB,QAAAA,IAAI,EAAEI;AAFM,OAAhB;;AAIA,UAAI,KAAKF,KAAL,CAAWP,UAAX,KAA0Be,SAA1B,IAAuC,KAAKR,KAAL,CAAWP,UAAX,CAAsBsB,MAAtB,GAA+B,CAAtE,IAA2E,KAAKf,KAAL,CAAWP,UAAX,CAAsBsB,MAAtB,GAA+B,GAA9G,EAAmH;AAC/GC,QAAAA,KAAK,CAAC,6BAAD,EAAgCH,OAAhC,CAAL,CAA8CI,IAA9C,CAAoDC,IAAD,IAAUA,IAAI,CAACC,IAAL,EAA7D,EACKF,IADL,CACUG,GAAG,IAAI;AACTC,UAAAA,OAAO,CAACC,KAAR,CAAcF,GAAd;AACA,eAAK5B,QAAL,CAAc;AAAC+B,YAAAA,WAAW,EAAE;AAAd,WAAd;AACH,SAJL;AAKH;AACJ,KA5DkB;;AAAA,SA8DnBC,UA9DmB,GA8DLjC,CAAD,IAAO;AAChB,UAAI,CAAC,KAAKS,KAAL,CAAWyB,YAAhB,EACI,KAAKjC,QAAL,CAAc;AAACiC,QAAAA,YAAY,EAAE;AAAf,OAAd,EADJ,KAEK,KAAKjC,QAAL,CAAc;AAACiC,QAAAA,YAAY,EAAE;AAAf,OAAd;AACR,KAlEkB;;AAAA,SAoEnBC,aApEmB,GAoEFnC,CAAD,IAAO;AACnB,UAAI,CAAC,KAAKS,KAAL,CAAW0B,aAAhB,EACI,KAAKlC,QAAL,CAAc;AAACkC,QAAAA,aAAa,EAAE;AAAhB,OAAd,EADJ,KAEK,KAAKlC,QAAL,CAAc;AAACkC,QAAAA,aAAa,EAAE;AAAhB,OAAd;AACR,KAxEkB;;AAAA,SAyEnBC,UAzEmB,GAyELpC,CAAD,IAAO;AAChB,UAAG,CAAC,KAAKS,KAAL,CAAW2B,UAAf,EACA,KAAKnC,QAAL,CAAc;AACVmC,QAAAA,UAAU,EAAE,IADF;AAEVC,QAAAA,IAAI,EAAE;AAFI,OAAd,EADA,KAMK,KAAKpC,QAAL,CAAc;AAACmC,QAAAA,UAAU,EAAE,KAAb;AAAoBC,QAAAA,IAAI,EAAE;AAA1B,OAAd;AACR,KAjFkB;;AAAA,SAkFnBC,KAlFmB,GAkFX,MAAOC,EAAP,IAAc;AAClB,YAAM,IAAIC,OAAJ,CAAYC,OAAO,IAAIC,UAAU,CAACD,OAAD,EAAUF,EAAV,CAAjC,CAAN;AACA,aAAO,IAAP;AACH,KArFkB;;AAAA,SAuFnBI,QAvFmB,GAuFR,MAAOC,IAAP,IAAgB;AACvB,WAAK3C,QAAL,CAAc;AAAC+B,QAAAA,WAAW,EAAE;AAAd,OAAd;AACAF,MAAAA,OAAO,CAACe,GAAR,CAAYD,IAAI,CAACE,MAAL,CAAY,CAAZ,CAAZ;;AACA,UAAIF,IAAI,CAACE,MAAL,CAAY,CAAZ,MAAmB,GAAvB,EAA4B;AACxB,aAAK7C,QAAL,CAAc;AAAC8C,UAAAA,EAAE,EAAEH,IAAI,CAACI,MAAL,CAAY,CAAZ,EAAeJ,IAAI,CAACpB,MAAL,GAAc,CAA7B;AAAL,SAAd;AACA,cAAM,KAAKc,KAAL,CAAW,GAAX,CAAN;AACA,aAAKW,iBAAL;AACH;AACJ,KA/FkB;;AAEf,SAAKxC,KAAL,GAAa;AACTD,MAAAA,MAAM,EAAE0C,YAAY,CAACC,OAAb,CAAqB,QAArB,CADC;AAETjB,MAAAA,YAAY,EAAE,KAFL;AAGTC,MAAAA,aAAa,EAAE,KAHN;AAITC,MAAAA,UAAU,EAAE,KAJH;AAKTC,MAAAA,IAAI,EAAE,KAAK1C,KAAL,CAAWiD,IALR;AAMTQ,MAAAA,IAAI,EAAE,EANG;AAOTC,MAAAA,QAAQ,EAAE,EAPD;AAQTC,MAAAA,QAAQ,EAAE,EARD;AASTC,MAAAA,GAAG,EAAE,EATI;AAUTC,MAAAA,GAAG,EAAE,EAVI;AAWTC,MAAAA,QAAQ,EAAE,EAXD;AAYTC,MAAAA,QAAQ,EAAE,EAZD;AAaTC,MAAAA,QAAQ,EAAE,EAbD;AAcTC,MAAAA,UAAU,EAAE,EAdH;AAeTC,MAAAA,UAAU,EAAE,EAfH;AAgBTC,MAAAA,UAAU,EAAE,EAhBH;AAiBTC,MAAAA,OAAO,EAAE;AAjBA,KAAb;AAmBH;;AA4EDd,EAAAA,iBAAiB,GAAG;AAChBxB,IAAAA,KAAK,CAAC,+BAAD,EAAkC;AACnCF,MAAAA,MAAM,EAAE,MAD2B;AAEnChB,MAAAA,IAAI,EAAEa,IAAI,CAACC,SAAL,CAAe,KAAKZ,KAApB,CAF6B;AAGnCuD,MAAAA,OAAO,EAAE;AACL,wBAAgB;AADX;AAH0B,KAAlC,CAAL,CAMGtC,IANH,CAMSuC,GAAD,IAASA,GAAG,CAACrC,IAAJ,EANjB,EAOKF,IAPL,CAOUkB,IAAI,IAAI;AACVd,MAAAA,OAAO,CAACC,KAAR,CAAca,IAAd;;AACA,UAAIA,IAAI,CAACsB,IAAL,KAAcjD,SAAlB,EAA6B;AACzB2B,QAAAA,IAAI,CAACsB,IAAL,CAAUP,QAAV,KAAuB,CAAvB,GAA2B,KAAK1D,QAAL,CAAc;AAACoD,UAAAA,QAAQ,EAAE,MAAMT,IAAI,CAACsB,IAAL,CAAUb,QAAhB,GAA2B;AAAtC,SAAd,CAA3B,GAAuH,KAAKpD,QAAL,CAAc;AAACoD,UAAAA,QAAQ,EAAE,MAAMT,IAAI,CAACsB,IAAL,CAAUb;AAA3B,SAAd,CAAvH;AACA,aAAKpD,QAAL,CAAc;AAACmD,UAAAA,IAAI,EAAER,IAAI,CAACsB,IAAL,CAAUnB;AAAjB,SAAd;AACA,YAAIH,IAAI,CAACsB,IAAL,CAAUZ,QAAV,CAAmB9B,MAAnB,GAA4B,CAAhC,EACI,KAAKvB,QAAL,CAAc;AAACqD,UAAAA,QAAQ,EAAE,MAAMV,IAAI,CAACsB,IAAL,CAAUZ,QAAhB,GAA2B;AAAtC,SAAd;AACJ,aAAKrD,QAAL,CAAc;AAACsD,UAAAA,GAAG,EAAEX,IAAI,CAACsB,IAAL,CAAUX;AAAhB,SAAd;AACA,aAAKtD,QAAL,CAAc;AAACuD,UAAAA,GAAG,EAAEZ,IAAI,CAACsB,IAAL,CAAUV;AAAhB,SAAd;AACA,aAAKvD,QAAL,CAAc;AAACwD,UAAAA,QAAQ,EAAEb,IAAI,CAACsB,IAAL,CAAUT;AAArB,SAAd;AACA,aAAKxD,QAAL,CAAc;AAACkE,UAAAA,YAAY,EAAEvB,IAAI,CAACsB,IAAL,CAAUC;AAAzB,SAAd;AACA,aAAKlE,QAAL,CAAc;AAACyD,UAAAA,QAAQ,EAAEd,IAAI,CAACsB,IAAL,CAAUR;AAArB,SAAd;AACA,aAAKzD,QAAL,CAAc;AAAC0D,UAAAA,QAAQ,EAAEf,IAAI,CAACsB,IAAL,CAAUP;AAArB,SAAd;AACA,aAAK1D,QAAL,CAAc;AAAC2D,UAAAA,UAAU,EAAEhB,IAAI,CAACsB,IAAL,CAAUN;AAAvB,SAAd;AACA,aAAK3D,QAAL,CAAc;AAAC4D,UAAAA,UAAU,EAAEjB,IAAI,CAACsB,IAAL,CAAUL;AAAvB,SAAd;AACA,aAAK5D,QAAL,CAAc;AAAC6D,UAAAA,UAAU,EAAElB,IAAI,CAACwB,MAAL,CAAYN;AAAzB,SAAd;AACA,aAAK7D,QAAL,CAAc;AAAC8D,UAAAA,OAAO,EAAEnB,IAAI,CAACyB,GAAL,CAASN;AAAnB,SAAd;AACH;AACJ,KAzBL;AA0BH;;AAEDO,EAAAA,yBAAyB,CAAC3E,KAAD,EAAQ;AAC7BmC,IAAAA,OAAO,CAACe,GAAR,CAAYlD,KAAZ;AACA,SAAKM,QAAL,CAAc;AAAEoC,MAAAA,IAAI,EAAE1C,KAAK,CAACiD;AAAd,KAAd;AACA,SAAK3C,QAAL,CAAc;AAAE8C,MAAAA,EAAE,EAAE;AAAN,KAAd;AACA,SAAKE,iBAAL;AACH;;AAEDsB,EAAAA,MAAM,GAAG;AACL,QAAI,KAAK9D,KAAL,CAAW4B,IAAf,EACI,OACI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,kBAAf;AAAkC,MAAA,EAAE,EAAC,SAArC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,4BAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADJ,EAEI;AAAQ,MAAA,SAAS,EAAC,gBAAlB;AAAmC,MAAA,OAAO,EAAE,KAAKD,UAAjD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBAFJ,CADJ,EAKI;AAAK,MAAA,GAAG,EAAE,KAAK3B,KAAL,CAAWmD,UAArB;AAAiC,MAAA,KAAK,EAAE,KAAKhE,SAA7C;AAAwD,MAAA,SAAS,EAAC,cAAlE;AACK,MAAA,EAAE,EAAC,aADR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAOI;AAAK,MAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,YAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,EAAE,EAAC,UAAN;AAAiB,MAAA,SAAS,EAAC,YAA3B;AACG,MAAA,uBAAuB,EAAE;AAAC4E,QAAAA,MAAM,EAAE,KAAK/D,KAAL,CAAW4C;AAApB,OAD5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAGI;AAAG,MAAA,EAAE,EAAC,QAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAgB,KAAK5C,KAAL,CAAW6C,QAA3B,CAHJ,CADJ,EAMI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,EAAE,EAAC,aAAR;AAAsB,MAAA,KAAK,EAAE;AAACmB,QAAAA,YAAY,EAAE;AAAf,OAA7B;AAAuD,MAAA,GAAG,EAAE,KAAKhE,KAAL,CAAWoD,UAAvE;AACK,MAAA,SAAS,EAAC,2BADf;AAEK,MAAA,GAAG,EAAC,QAFT;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,CADJ,EAMI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAG,MAAA,SAAS,EAAC,YAAb;AACG,MAAA,EAAE,EAAC,eADN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACuB,qBAAqBa,IAAI,CAACA,IAAI,CAACC,KAAL,CAAW,KAAKlE,KAAL,CAAW0D,YAAtB,CAAD,CAAJ,CAA0CnB,MAA1C,CAAiD,CAAjD,EAAoD,EAApD,CAD5C,CADJ,EAGI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAHJ,EAII;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAJJ,EAKI;AAAG,MAAA,EAAE,EAAC,KAAN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAa,KAAKvC,KAAL,CAAW8C,GAAxB,CALJ,CANJ,EAaI;AAAK,MAAA,SAAS,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADJ,EAEI;AAAI,MAAA,SAAS,EAAC,gBAAd;AAA+B,MAAA,KAAK,EAAE;AAACqB,QAAAA,MAAM,EAAE;AAAT,OAAtC;AACI,MAAA,OAAO,EAAE,KAAK3C,UADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAC+B,KAAKxB,KAAL,CAAWqD,UAD1C,CAFJ,EAII,oBAAC,QAAD;AAAU,MAAA,IAAI,EAAE,KAAKrD,KAAL,CAAWyB,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,EAKI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MALJ,EAMI;AAAI,MAAA,SAAS,EAAC,gBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBANJ,EAOI;AAAI,MAAA,SAAS,EAAC,gBAAd;AAA+B,MAAA,KAAK,EAAE;AAAC0C,QAAAA,MAAM,EAAE;AAAT,OAAtC;AACI,MAAA,OAAO,EAAE,KAAKzC,aADlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACkC,KAAK1B,KAAL,CAAWsD,OAD7C,CAPJ,EASI,oBAAC,SAAD;AAAW,MAAA,IAAI,EAAE,KAAKtD,KAAL,CAAW0B,aAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MATJ,CAbJ,CANJ,CAPJ,EAuCI;AAAK,MAAA,SAAS,EAAC,aAAf;AAA6B,MAAA,EAAE,EAAC,YAAhC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAK,MAAA,SAAS,EAAC,gBAAf;AAAgC,MAAA,EAAE,EAAC,WAAnC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAM,MAAA,SAAS,EAAC,KAAhB;AAAsB,MAAA,MAAM,EAAC,EAA7B;AAAgC,MAAA,OAAO,EAAC,qBAAxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAS,MAAA,SAAS,EAAC,UAAnB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAU,MAAA,EAAE,EAAC,OAAb;AAAqB,MAAA,WAAW,EAAC,iBAAjC;AAAmD,MAAA,SAAS,EAAC,UAA7D;AACU,MAAA,QAAQ,EAAE,KAAKpC,QADzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFJ,EAII;AAAO,MAAA,SAAS,EAAC,sBAAjB;AAAwC,MAAA,OAAO,EAAC,UAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OACI;AAAO,MAAA,IAAI,EAAC,MAAZ;AAAmB,MAAA,EAAE,EAAC,UAAtB;AAAiC,MAAA,SAAS,EAAC,mBAA3C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADJ,EAEI;AAAM,MAAA,SAAS,EAAC,uCAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,aAFJ,CAJJ,EAQI;AAAG,MAAA,EAAE,EAAC,SAAN;AAAgB,MAAA,IAAI,EAAC,GAArB;AAAyB,MAAA,SAAS,EAAC,4BAAnC;AACG,MAAA,OAAO,EAAE,KAAKM,KADjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAFJ,CARJ,CADJ,CAFJ,CAvCJ,CADJ,EA4DK,oBAAC,IAAD;AAAM,MAAA,QAAQ,EAAE,KAAKsC,QAArB;AAA+B,MAAA,IAAI,EAAE,KAAKlC,KAAL,CAAWuB,WAAhD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA5DL,EA+DQ,oBAAC,MAAD;AAAQ,MAAA,IAAI,EAAE,KAAKvB,KAAL,CAAW2B,UAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MA/DR,CADJ,CADJ,KAqEK,OAAO,IAAP;AACR;;AA7MwC","sourcesContent":["import React from \"react\";\nimport {Wall} from \"./wall\";\nimport {Follower} from \"./follower\";\nimport {Following} from \"./following\";\nimport {Modify} from \"./modify\";\n\nexport class Account extends React.Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            cookie: localStorage.getItem(\"cookie\"),\n            showFollower: false,\n            showFollowing: false,\n            showModify: false,\n            show: this.props.data,\n            id_u: \"\",\n            username: \"\",\n            fullname: \"\",\n            bio: \"\",\n            tel: \"\",\n            birthday: \"\",\n            location: \"\",\n            verified: \"\",\n            banner_img: \"\",\n            profil_img: \"\",\n            nbr_follow: \"\",\n            nbr_abo: \"\",\n        }\n    }\n\n    bannerImg = {\n        height: \"300px\",\n        objectFit: \"cover\"\n    };\n\n\n\n    getInput = (e) => {\n        this.setState({inputTweet: e.target.value});\n    };\n\n    tweet = (e) => {\n        e.preventDefault();\n        let body = {\n            cookie: this.state.cookie,\n            tweet: this.state.inputTweet,\n            type: \"tweet\"\n        };\n        let formData = new FormData();\n        let file = document.getElementById('tweetImg').files[0];\n        if (file !== undefined) {\n            if (file.type.indexOf(\"image/\") !== -1)\n                body.type = \"image\";\n            formData.append(\"file\", file);\n        }\n        formData.append(\"body\", JSON.stringify(body));\n        const options = {\n            method: \"POST\",\n            body: formData\n        };\n        if (this.state.inputTweet !== undefined && this.state.inputTweet.length > 0 && this.state.inputTweet.length < 141) {\n            fetch(\"http://localhost:8080/tweet\", options).then((resp) => resp.json())\n                .then(val => {\n                    console.table(val);\n                    this.setState({refreshWall: true});\n                });\n        }\n    };\n\n    showFollow = (e) => {\n        if (!this.state.showFollower)\n            this.setState({showFollower: true});\n        else this.setState({showFollower: false});\n    };\n\n    showFollowing = (e) => {\n        if (!this.state.showFollowing)\n            this.setState({showFollowing: true});\n        else this.setState({showFollowing: false});\n    };\n    showModify = (e) => {\n        if(!this.state.showModify)\n        this.setState({\n            showModify: true,\n            show: false\n\n        });\n        else this.setState({showModify: false, show: true})\n    };\n    sleep = async (ms) => {\n        await new Promise(resolve => setTimeout(resolve, ms));\n        return true;\n    };\n\n    callback = async (data) => {\n        this.setState({refreshWall: false});\n        console.log(data.charAt(0));\n        if (data.charAt(0) === \"@\") {\n            this.setState({id: data.substr(1, data.length - 1)});\n            await this.sleep(200);\n            this.componentDidMount();\n        }\n    };\n\n    componentDidMount() {\n        fetch(\"http://localhost:8080/getInfo\", {\n            method: \"POST\",\n            body: JSON.stringify(this.state),\n            headers: {\n                \"content-type\": \"application/json\",\n            }\n        }).then((res) => res.json())\n            .then(data => {\n                console.table(data);\n                if (data.info !== undefined) {\n                    data.info.verified === 1 ? this.setState({username: \"@\" + data.info.username + \"<a style='color: #1e7e34'> ✔</a>️\"}) : this.setState({username: \"@\" + data.info.username});\n                    this.setState({id_u: data.info.id});\n                    if (data.info.fullname.length > 0)\n                        this.setState({fullname: \"(\" + data.info.fullname + \")\"});\n                    this.setState({bio: data.info.bio});\n                    this.setState({tel: data.info.tel});\n                    this.setState({birthday: data.info.birthday});\n                    this.setState({registerDate: data.info.registerDate});\n                    this.setState({location: data.info.location});\n                    this.setState({verified: data.info.verified});\n                    this.setState({banner_img: data.info.banner_img});\n                    this.setState({profil_img: data.info.profil_img});\n                    this.setState({nbr_follow: data.follow.nbr_follow});\n                    this.setState({nbr_abo: data.abo.nbr_abo});\n                }\n            });\n    }\n\n    componentWillReceiveProps(props) {\n        console.log(props);\n        this.setState({ show: props.data });\n        this.setState({ id: null });\n        this.componentDidMount();\n    }\n\n    render() {\n        if (this.state.show)\n            return (\n                <div className=\"container\">\n                    <div className=\"card text-center\" id=\"account\">\n                        <div className=\"card-header text-twitter-4\">\n                            <h2>Your Account</h2>\n                            <button className=\"button-primary\" onCLick={this.showModify}>Modify account</button>\n                        </div>\n                        <img src={this.state.banner_img} style={this.bannerImg} className=\"card-img-top\"\n                             id=\"bannerImage\"/>\n                        <div className=\"card-body\">\n                            <h5 className=\"card-title\">\n                                <p id=\"username\" className=\"text-muted\"\n                                   dangerouslySetInnerHTML={{__html: this.state.username}}/>\n                                <p id=\"pseudo\">{this.state.fullname}</p>\n                            </h5>\n                            <div className=\"row\">\n                                <div className=\"col-md-4\">\n                                    <img id=\"profilImage\" style={{borderRadius: \"9999px\"}} src={this.state.profil_img}\n                                         className=\"mx-auto img-fluid d-block\"\n                                         alt=\"avatar\"/>\n                                </div>\n                                <div className=\"col-md-4\">\n                                    <p className=\"text-muted\"\n                                       id=\"subscribeDate\">{\"Register since: \" + Date(Date.parse(this.state.registerDate)).substr(0, 15)}</p>\n                                    <hr/>\n                                    <p>Bio:</p>\n                                    <p id=\"bio\">{this.state.bio}</p>\n                                </div>\n                                <div className=\"col-md-4\">\n                                    <h6 className=\"text-twitter-5\">Followers:</h6>\n                                    <h2 className=\"text-twitter-4\" style={{cursor: \"pointer\"}}\n                                        onClick={this.showFollow}>{this.state.nbr_follow}</h2>\n                                    <Follower data={this.state.showFollower}/>\n                                    <hr/>\n                                    <h6 className=\"text-twitter-5\">Following:</h6>\n                                    <h2 className=\"text-twitter-4\" style={{cursor: \"pointer\"}}\n                                        onClick={this.showFollowing}>{this.state.nbr_abo}</h2>\n                                    <Following data={this.state.showFollowing}/>\n                                </div>\n                            </div>\n                        </div>\n                        <div className=\"card-footer\" id=\"tweetTweet\">\n                            <div className=\"text-twitter-2\" id=\"sizeTweet\"/>\n                            <div>\n                                <form className=\"row\" action=\"\" encType=\"multipart/form-data\">\n                                    <article className=\"col-md-3\"/>\n                                    <textarea id=\"tweet\" placeholder=\"Max length: 140\" className=\"col-lg-5\"\n                                              onChange={this.getInput}/>\n                                    <label className=\"custom-file col-md-1\" htmlFor=\"tweetImg\">\n                                        <input type=\"file\" id=\"tweetImg\" className=\"custom-file-input\"/>\n                                        <span className=\"btn btn-twitter-5 custom-file-control\">Img</span>\n                                    </label>\n                                    <a id=\"tweeter\" href=\"#\" className=\"col-md-3 btn btn-twitter-5\"\n                                       onClick={this.tweet}>\n                                        <h2>Tweet</h2>\n                                    </a>\n                                </form>\n                            </div>\n                        </div>\n                    </div>\n\n                     <Wall callback={this.callback} data={this.state.refreshWall}/>\n\n\n                        <Modify data={this.state.showModify}/>\n                </div>\n\n            );\n        else return null;\n    }\n}"]},"metadata":{},"sourceType":"module"}